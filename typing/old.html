<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
	<title>LearningEngineer.org</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	
	
	<script src="js/buzz.min.js" type="text/javascript"></script>
	<script src="js/type.js" type="text/javascript"></script>
	<link href="css/txtanmt.css" rel="stylesheet" /> 

	<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;500&display=swap" rel="stylesheet">
	
	
</head>
<body id="typers">


	<div class="typed-type"><span id="typed" style="white-space:pre"></span>
	</div>

	<div class="enter-type"><textarea id="enter-type-id-textarea"></textarea><button>Submit</button></div>
</body>
<script>
	$(function(){
		let mySound = new buzz.sound("assets/keyboard.mp3", {
			preload: true,
			autoplay: false,
			loop: true
		});

		let ndRtrnSnd = new buzz.sound("assets/carriagereturn.mp3", {
			preload: true,
			autoplay: false,
			loop: false
		}); 

		$( '#typers' ).click( function() { //mutes the sound if you click on the page
			mySound.toggleMute();
			ndRtrnSnd.toggleMute();
		
	});

	var items = [];
	var docCode = "";
	$.getJSON('js/decode.json', function (data) {  //This gets the question, answer, explanation data from the json file and dumbps it into the items variable. 
        items = data; 
		docCode = String(items[0].text);
		$("#typed").typed({
			strings: [docCode],
			contentType: 'text',
			typeSpeed: 100,
            loop: false,
            loopCount: false,
			callback: function(){
				mySound.stop(); //stops the typewriter when it encounters a carat.
				ndRtrnSnd.play();  //plays the carriage return
			},
			restartPlay: function() {
			    ndRtrnSnd.stop(); //stops the carriage return
				mySound.play(); //begins typing again
			},
			resetCallback: function() {
				mySound.stop();  //stops everything when complete
				ndRtrnSnd.stop(); //stops everything when complete
			}

		});
     });
		 //Below is the code for the typing.  See the type.js website for a more detailed explanation.
		
});
	</script>

</html>
